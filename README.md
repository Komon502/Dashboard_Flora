# üå± Flora Care -- BLE + ESP32 + Node-RED Dashboard

‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏±‡∏î‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏Ç‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÅ‡∏ö‡∏ö Real-time ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ **ESP32
(Client/Server), BLE**, ‡πÅ‡∏•‡∏∞ **Node-RED Dashboard**

------------------------------------------------------------------------

## üìå 1. ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö (System Overview)

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡∏à‡∏≤‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ ‡πÄ‡∏ä‡πà‡∏ô\
- üå° ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥\
- üíß ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏®\
- üå± ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô\
- ‚öô ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÇ‡∏ß (Servo)

‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

1.  **ESP32 Client**
    -   ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå (DHT11, Soil Sensor)\
    -   ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô **BLE** ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Server
2.  **ESP32 Server (Gateway)**
    -   ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Client ‡∏ú‡πà‡∏≤‡∏ô BLE\
    -   ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á Node-RED ‡∏ú‡πà‡∏≤‡∏ô HTTP (JSON POST)
3.  **Node-RED Dashboard**
    -   ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö Real-time\
    -   ‡∏ó‡∏≥‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

------------------------------------------------------------------------

## üìå 2. ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö (System Architecture)

    [ ESP32 Client ] --BLE--> [ ESP32 Server ] --HTTP JSON--> [ Node-RED ] --> Dashboard

------------------------------------------------------------------------

## üìå 3. ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ (Hardware)

  ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå                ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà
  ---------------------- -----------------------------------
  ESP32 DevKit           ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Client / Server
  DHT11                  ‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô
  Soil Moisture Sensor   ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô
  Servo Motor            ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏¥‡∏î‡∏ô‡πâ‡∏≥
  Node-RED               ‡πÅ‡∏™‡∏î‡∏á Dashboard

------------------------------------------------------------------------

## üìå 4. ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ù‡∏±‡πà‡∏á ESP32 Client

**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á Client:** - ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î - ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô JSON - ‡∏™‡πà‡∏á
JSON ‡∏ú‡πà‡∏≤‡∏ô BLE Characteristic ‡πÑ‡∏õ‡πÉ‡∏´‡πâ Server

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á JSON ‡∏ó‡∏µ‡πà Client ‡∏™‡πà‡∏á

``` json
{
  "temperature": 29.5,
  "humidity": 70,
  "soil": 480,
  "servo": 90
}
```

------------------------------------------------------------------------

## üìå 5. ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ù‡∏±‡πà‡∏á ESP32 Server

**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á Server:** - ‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå BLE Client\
- ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• JSON ‡∏ú‡πà‡∏≤‡∏ô BLE\
- ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≠‡πÑ‡∏õ Node-RED ‡∏ú‡πà‡∏≤‡∏ô HTTP POST

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á JSON ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ Node-RED

``` json
{
  "client_id": "ESP32-001",
  "temperature": 29.5,
  "humidity": 70,
  "soil": 480,
  "servo": 90,
  "timestamp": "2025-11-28T14:22:01"
}
```

------------------------------------------------------------------------

## üìå 6. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Node-RED

### 6.1 ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Node-RED

‡∏ö‡∏ô Windows

    npm install -g node-red
    node-red

‡πÄ‡∏õ‡∏¥‡∏î browser ‡∏ó‡∏µ‡πà\
üëâ http://localhost:1880

------------------------------------------------------------------------

### 6.2 Flow ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (HTTP Input ‚Üí Dashboard)

-   **HTTP IN** (`POST /api/ingest`)
-   **JSON Parser**
-   **Function (‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ JSON)**
-   **Dashboard Text / Chart**

------------------------------------------------------------------------

## üìå 7. ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Flow ‡πÉ‡∏ô Node-RED (‡∏ô‡∏≥‡πÑ‡∏õ Import ‡πÑ‡∏î‡πâ)

``` json
{
  "id": "flow-example",
  "type": "tab",
  "label": "Flora Care Flow",
  "nodes": [
    {
      "id": "http_in",
      "type": "http in",
      "url": "/api/ingest",
      "method": "post"
    },
    {
      "id": "json_parse",
      "type": "json"
    }
  ]
}
```

------------------------------------------------------------------------

## üìå 8. Dashboard ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á

-   ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ ‚Üí **Gauge**
-   ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏® ‚Üí **Gauge**
-   ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô ‚Üí **Bar Chart**
-   ‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‚Üí **Text**
-   ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ñ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‚Üí **Notification**

------------------------------------------------------------------------

## üìå 9. ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

1.  ‡πÄ‡∏õ‡∏¥‡∏î ESP32 Client ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ Sensor ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô\
2.  ‡πÄ‡∏õ‡∏¥‡∏î ESP32 Server ‚Üí ‡∏£‡∏≠‡∏£‡∏±‡∏ö BLE\
3.  ‡πÄ‡∏õ‡∏¥‡∏î Node-RED ‚Üí ‡∏£‡∏≠ HTTP POST\
4.  ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö Real-time ‡∏ö‡∏ô Dashboard

------------------------------------------------------------------------

## üìå 10. ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### ‚ùå BLE ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

-   ‡∏≠‡∏≤‡∏à‡∏•‡∏∑‡∏°‡πÅ‡∏Å‡πâ‡∏ä‡∏∑‡πà‡∏≠ UUID\
-   ‡∏£‡∏∞‡∏¢‡∏∞ Client/Server ‡πÑ‡∏Å‡∏•‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

### ‚ùå Node-RED ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

-   Server ‡∏™‡πà‡∏á IP ‡∏ú‡∏¥‡∏î\
-   ‡∏£‡∏∞‡∏ß‡∏±‡∏á HTTP URL ‡πÄ‡∏ä‡πà‡∏ô `http://192.168.1.10:3000/api/ingest`

------------------------------------------------------------------------

## üìå 11. ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥

-   ‡∏ô‡∏≤‡∏¢ ‡∏Å‡∏§‡∏©‡∏é‡∏≤ ...\
-   ‡∏ô‡∏≤‡∏¢ ‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏∞ ...\
-   ‡∏ô‡∏≤‡∏¢ ‡∏Å‡∏°‡∏• ...

------------------------------------------------------------------------

## üìå 12. License

MIT License\
‡πÉ‡∏ä‡πâ‡∏ü‡∏£‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤

------------------------------------------------------------------------

## üéâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô

‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö BLE ‚Üí ESP32 ‚Üí Node-RED\
‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° Diagram ‡∏´‡∏£‡∏∑‡∏≠ Flow ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏™‡πà‡∏á‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ú‡∏°‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏±‡∏ö!
